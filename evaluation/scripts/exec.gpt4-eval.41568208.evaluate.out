Arguments for the Clinical Trials Meta Analysis Task Evaluator:
Task:         outcome_type
Output Path:  /scratch/yun.hy/llm-meta-analysis/evaluation/outputs/outcome_type/gpt4_outcome_type_test_output_20240325-11:55:44.json
Metrics Path: /scratch/yun.hy/llm-meta-analysis/evaluation/metrics/outcome_type/

Metrics for the task:
{
    "number_of_model_unknowns": {
        "outcome_type": 155,
        "total": 155
    },
    "number_of_reference_unknowns": {
        "outcome_type": 0,
        "total": 0
    },
    "exact_match_accuracy": {
        "outcome_type": 0.7134146341463414,
        "total": 0.7134146341463414
    },
    "exact_match_accuracy_remove_unknowns": {
        "outcome_type": 0.7134146341463414,
        "total": 0.7134146341463414
    },
    "partial_match_accuracy": {
        "partial_match_accuracy_1": 0.7134146341463414
    },
    "outcome_type_f_score": {
        "outcome_type": [
            0.7354838709677418,
            0.8358913813459268,
            0.0
        ]
    }
}
Arguments for the Clinical Trials Meta Analysis Task Evaluator:
Task:         binary_outcomes
Output Path:  /scratch/yun.hy/llm-meta-analysis/evaluation/outputs/binary_outcomes/gpt4_binary_outcomes_test_output_20240325-16:51:52.json
Metrics Path: /scratch/yun.hy/llm-meta-analysis/evaluation/metrics/binary_outcomes/

Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
An exception occurred for calculate log odds ratio - intervention_events: {'TT': 45, 'GT/GG': 17}, control_events: {'TT': 35, 'GT/GG': 2}, intervention_total: {'TT': 65, 'GT/GG': 23}, control_total: {'TT': 60, 'GT/GG': 24}
An exception occurred for calculate standard error log odds ratio - intervention_events: {'TT': 45, 'GT/GG': 17}, control_events: {'TT': 35, 'GT/GG': 2}, intervention_total: {'TT': 65, 'GT/GG': 23}, control_total: {'TT': 60, 'GT/GG': 24}
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Error in applying zero correction: Undefined results.
Traceback (most recent call last):
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/scripts/../evaluate_output.py", line 176, in <module>
    task_evaluator.run_evaluation()
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/scripts/../evaluate_output.py", line 139, in run_evaluation
    metrics = self.metrics_calculator.calculate_metrics(self.data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 239, in calculate_metrics
    metrics["exact_match_accuracy_remove_unknowns"] = self.__calculate_exact_match_accuracy(data, True)
                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 106, in __calculate_exact_match_accuracy
    metrics[reference] = self.__calculate_accuracy(actual, predicted, remove_unknowns)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 41, in __calculate_accuracy
    num_total -= 1
    ^^^^^^^^^
UnboundLocalError: cannot access local variable 'num_total' where it is not associated with a value
Arguments for the Clinical Trials Meta Analysis Task Evaluator:
Task:         continuous_outcomes
Output Path:  /scratch/yun.hy/llm-meta-analysis/evaluation/outputs/continuous_outcomes/gpt4_continuous_outcomes_test_output_20240325-18:45:56.json
Metrics Path: /scratch/yun.hy/llm-meta-analysis/evaluation/metrics/continuous_outcomes

An exception occurred for calculate standardized mean difference - intervention_mean: 35.2%, control_mean: 9.9%, intervention_sd: 21.7%, control_sd: 14.5%
An exception occurred for calculate standard error mean difference - intervention_sd: 21.7%, control_sd: 14.5%, intervention_total: 44, control_total: 44
An exception occurred for calculate standardized mean difference - intervention_mean: 12, control_mean: 11.1, intervention_sd: 4.3 to 32.1, control_sd: 4.2 to 31.6
An exception occurred for calculate standard error mean difference - intervention_sd: 4.3 to 32.1, control_sd: 4.2 to 31.6, intervention_total: 22, control_total: 22
Traceback (most recent call last):
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/scripts/../evaluate_output.py", line 176, in <module>
    task_evaluator.run_evaluation()
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/scripts/../evaluate_output.py", line 139, in run_evaluation
    metrics = self.metrics_calculator.calculate_metrics(self.data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 239, in calculate_metrics
    metrics["exact_match_accuracy_remove_unknowns"] = self.__calculate_exact_match_accuracy(data, True)
                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 106, in __calculate_exact_match_accuracy
    metrics[reference] = self.__calculate_accuracy(actual, predicted, remove_unknowns)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/scratch/yun.hy/llm-meta-analysis/evaluation/calculate_metrics.py", line 41, in __calculate_accuracy
    num_total -= 1
    ^^^^^^^^^
UnboundLocalError: cannot access local variable 'num_total' where it is not associated with a value
